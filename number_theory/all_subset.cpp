for (subset = all; subset != 0; subset = (subset-1)&all) {
    // do something ...
}